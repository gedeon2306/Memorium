<%-include("../composants/header") %>

    <section style="padding: 20px;">
        <h2><b><i class="fa fa-user-friends fa-fw"></i> Gestion des familles</b></h2>

        <!-- Ouverture du model -->
        <button id="myBtn" class="btn btn-bleu">Ajouter une famille <i class="fa fa-circle-plus fa-lg"></i></button>
        
        <!-- Les alerts -->
        <%-include('../composants/alerts') %>

        <!-- Le model -->
        <%-include('../composants/modalAddFamille') %>
        
    </section>
    <section style="padding: 16px;">
        <div class="input-container">
            <i class="fa fa-search icon"></i>
            <input class="input-field" type="text" id="myInput" onkeyup="myFunction()" placeholder="Effectuez une recherche...">
        </div>

        <div style="overflow-x:auto;">
            <table id="myTable" class="w3-table w3-striped w3-white"">
                <tr class="header">
                    <th>NÂ°</th>
                    <th>Famille</th>
                    <th>Nom Garrant</th>
                    <th>Prenom Garrant</th>
                    <th>Profession</th>
                    <th>Telephone</th>
                    <th>Email</th>
                    <th>Action</th>
                </tr>
                <% if (familles.length === 0) { %>
                    <tr>
                        <td colspan="8" style="text-align: center;">Aucun enregistrement disponible</td>
                    </tr>
                <% }else{ %>
                    <% let num = 0; familles.forEach(famille => { %>
                        <tr>
                            <td><%=num+=1 %></td>
                            <td><%=famille.nomFamille %></td>
                            <td><%=famille.nomGarrant %></td>
                            <td><%=famille.prenomGarrant %></td>
                            <td><%=famille.profession %></td>
                            <td><%=famille.telephone %></td>
                            <td><%=famille.email %></td>
                            <td>
                                <button class="btn btn-vert"><i class="fa fa-edit fa-fw"></i></button>
                                <button class="btn btn-rouge"><i class="far fa-trash-alt fa-fw"></i></button>
                            </td>
                        </tr>
                    <% }) %>
                <% } %>
            </table>
        </div>
    </section>
        
<%-include("../composants/footer") %>