<%-include("./composants/header") %>

    <section style="padding: 20px;">
        <h2><b><i class="fa fa-add fa-fw"></i> Ajouter un defunt</b></h2>
        <button id="myBtn" class="btn btn-bleu addFamille">Ajouter une famille <i class="fa fa-circle-plus fa-lg"></i></button>
        
        <%-include('./composants/modalAddFamille') %>

        <form action="/defunt.store" method="post" class="formAjoutDefunt" enctype="multipart/form-data">
            <div class="form-content">
                <div class="formDefunt">
                    <h2>Informations Personnelles</h2>

                    <input type="hidden" name="token" value="<%=token %>">

                    <div class="photo-upload-container">
                        <label for="photo-upload" class="photo-upload-label" id="photo-upload-label">
                        <span id="upload-text">üì∑ Cliquez pour ajouter</span>
                        <input type="file" id="photo-upload" accept="image/*" class="photo-upload-input" name="image">
                        </label>
                    </div>

                    <label for="nom" class="labelFormAjoutDefunt"><span class="importance">* </span>Nom:</label>
                    <input class="inputDefunt" type="text" id="nom" name="nom" required>

                    <label for="prenom" class="labelFormAjoutDefunt">Pr√©nom:</label>
                    <input class="inputDefunt" type="text" id="prenom" name="prenom">

                    <label for="age" class="labelFormAjoutDefunt"><span class="importance">* </span>Age:</label>
                    <input class="inputDefunt" type="number" id="age" name="age" required>

                    <label class="labelFormAjoutDefunt"><span class="importance">* </span>Genre:</label>
                    <div class="radio-group">
                        <label><input type="radio" name="genre" value="M" required> Masculin</label>
                        <label><input type="radio" name="genre" value="F" required> F√©minin</label>
                    </div>

                    <label for="dateNaiss" class="labelFormAjoutDefunt"><span class="importance">* </span>Date de Naissance:</label>
                    <input class="inputDefunt" type="date" id="dateNaiss" name="dateNaiss">

                    <label for="profession" class="labelFormAjoutDefunt">Profession:</label>
                    <input class="inputDefunt" type="text" id="profession" name="profession">
                </div>

                <div class="formDefunt">
                    <h2>Autres Informations</h2>
                    <label for="dateDeces" class="labelFormAjoutDefunt"><span class="importance">* </span>Date de D√©c√®s:</label>
                    <input class="inputDefunt" type="date" id="dateDeces" name="dateDeces" required>

                    <label for="dateInhumation" class="labelFormAjoutDefunt"><span class="importance">* </span>Date d'Inhumation:</label>
                    <input class="inputDefunt" type="date" id="dateInhumation" name="dateInhumation" required>

                    <label for="dateInceneration" class="labelFormAjoutDefunt"><span class="importance">* </span>Date d'Inc√©ration prevue:</label>
                    <input class="inputDefunt" type="date" id="dateInceneration" name="dateInceneration" required>

                    <label for="familleId" class="labelFormAjoutDefunt"><span class="importance">* </span>Famille (NomGarrant Pr√©nomGarrant):</label>
                    <select class="inputDefunt" name="familleId" id="familleId">
                        <option value="" selected disabled></option>
                        <% familles.forEach(famille => { %>
                            <option value="<%= famille.id %>"><%= famille.nomFamille + ' (' + famille.nomGarrant + ' ' + famille.prenomGarrant + ')' %></option>
                        <% }) %>
                    </select>

                    <h2>Paiement</h2>

                    <label for="montant" class="labelFormAjoutDefunt"><span class="importance">* </span>Montant:</label>
                    <input class="inputDefunt" type="number" id="montant" name="montant" required>

                    <label for="moyenPaiement" class="labelFormAjoutDefunt"><span class="importance">* </span>Paiement par:</label>
                    <select class="inputDefunt" name="moyenPaiement" id="moyenPaiement">
                        <option value="Esp√®ce" selected>Esp√®ce</option>
                        <option value="Carte">Carte</option>
                        <option value="Ch√®que">Ch√®que</option>
                        <option value="Paiement Mobile">Paiement Mobile</option>
                        <option value="Virement Bancaire">Virement Bancaire</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="btnAddDefunt">Enregistrer <i class="fa fa-save"></i></button>
        </form>
    </section>
    
<%-include("./composants/footer") %>